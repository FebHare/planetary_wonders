namespace = pw_wonder

#Message for wonder construction complete
# UNUSED!
planet_event = {
	id = pw_wonder.1
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_space_elevator_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = WONDER
				scope = FROM
			}
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}
	}
}

# Space Elevator -> id 100

#On Space Elevator built
planet_event = {
	id = pw_wonder.100
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_space_elevator_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}

		planet_event = { id = pw_wonder.101 }
	}
}

#On first time Space Elevator is built
planet_event = {
	id = pw_wonder.101
	title = "pw_wonder.101.name"
	desc = "pw_wonder.101.desc"
	picture = GFX_evt_metropolis
	show_sound = event_construction
	is_triggered_only = yes
	location = THIS

	option = {
		name = pw_wonder.101.a
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_xenophobe = no }
		}
	}

	option = {
		name = pw_wonder.101.b
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_xenophile = no }
		}
	}

	trigger = {
		NOT = {owner = {has_country_flag = space_elevator_built}}
	}

	immediate = {
		owner = { set_country_flag = space_elevator_built }
	}

}

# Particle Supercollider -> id 200

#On Particle Supercollider built
planet_event = {
	id = pw_wonder.200
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_particle_supercollider_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}

		planet_event = { id = pw_wonder.201 }
	}
}

#On first time Particle Supercollider is built
planet_event = {
	id = pw_wonder.201
	title = "pw_wonder.201.name"
	desc = "pw_wonder.201.desc"
	picture = GFX_evt_ancient_databank
	show_sound = event_construction
	is_triggered_only = yes
	location = THIS

	option = {
		name = pw_wonder.201.a
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_spiritualist = no }
		}
	}

	option = {
		name = pw_wonder.201.b
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_materialist = no }
		}
	}

	trigger = {
		NOT = {owner = {has_country_flag = particle_supercollider_built}}
	}

	immediate = {
		owner = { set_country_flag = particle_supercollider_built }
	}
}

# Domed City -> id 300

#On Domed City built
planet_event = {
	id = pw_wonder.300
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_domed_city_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}

		planet_event = { id = pw_wonder.301 }
	}
}

#On first time Domed City is built
planet_event = {
	id = pw_wonder.301
	title = "pw_wonder.301.name"
	desc = "pw_wonder.301.desc"
	picture = GFX_evt_society_research
	show_sound = event_construction
	is_triggered_only = yes
	location = THIS

	option = {
		name = pw_wonder.301.a
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_authoritarian = no }
		}
	}

	option = {
		name = pw_wonder.301.b
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_egalitarian = no }
		}
	}

	trigger = {
		NOT = {owner = {has_country_flag = domed_city_built}}
	}

	immediate = {
		owner = { set_country_flag = domed_city_built }
	}
}

# Abyssal Crater Test Site -> id 400

#On Abyssal Crater Test Site built
planet_event = {
	id = pw_wonder.400
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_abyssal_crater_test_site_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}

		planet_event = { id = pw_wonder.401 }
	}
}

#On first time Abyssal Crater Test Site is built
planet_event = {
	id = pw_wonder.401
	title = "pw_wonder.401.name"
	desc = "pw_wonder.401.desc"
	picture = GFX_evt_underground_civilization
	show_sound = event_construction
	is_triggered_only = yes
	location = THIS

	option = {
		name = pw_wonder.401.a
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_militarist = no }
		}
	}

	option = {
		name = pw_wonder.401.b
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
		trigger = {
			owner = { is_pacifist = no }
		}
	}

	trigger = {
		NOT = {owner = { has_country_flag = abyssal_crater_test_site_built }}
	}

	immediate = {
		owner = { set_country_flag = abyssal_crater_test_site_built }
	}
}

# Erebus Project -> id 500

#On Erebus Project Test Site built
planet_event = {
	id = pw_wonder.500
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_erebus_project_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}

		planet_event = { id = pw_wonder.501 }
	}
}

#On first time Erebus Project Test Site is built
planet_event = {
	id = pw_wonder.501
	title = "pw_wonder.501.name"
	desc = "pw_wonder.501.desc"
	picture = GFX_evt_mining_operations
	show_sound = event_construction
	is_triggered_only = yes
	location = THIS

	option = {
		name = pw_wonder.501.a
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
	}

	trigger = {
		NOT = {owner = { has_country_flag = erebus_project_built }}
	}

	immediate = {
		owner = { set_country_flag = erebus_project_built }
	}
}

# Helios Tower -> id 600

#On Helios Tower Test Site built
planet_event = {
	id = pw_wonder.600
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_helios_tower_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}

		planet_event = { id = pw_wonder.601 }
	}
}

#On first time Helios Tower Test Site is built
planet_event = {
	id = pw_wonder.601
	title = "pw_wonder.601.name"
	desc = "pw_wonder.601.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_construction
	is_triggered_only = yes
	location = THIS

	option = {
		name = pw_wonder.601.a
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
	}

	trigger = {
		NOT = {owner = { has_country_flag = helios_tower_built }}
	}

	immediate = {
		owner = { set_country_flag = helios_tower_built }
	}
}

# Demetrius Fields -> id 700

#On Demetrius Fields Test Site built
planet_event = {
	id = pw_wonder.700
	hide_window = yes
	is_triggered_only = yes

	pre_triggers = {
		has_owner = yes
		is_occupied_flag = no
	}

	immediate = {
		create_message = {
			type = BUILDING_CONSTRUCTION_MESSAGE_TYPE
			localization = pw_message_demetrius_fields_complete
			days = 30
			target = THIS
			variable = {
				type = name
				localization = PLANET
				scope = ROOT
			}
		}

		planet_event = { id = pw_wonder.701 }
	}
}

#On first time Demetrius Fields Test Site is built
planet_event = {
	id = pw_wonder.701
	title = "pw_wonder.701.name"
	desc = "pw_wonder.701.desc"
	picture = GFX_evt_alien_nature
	show_sound = event_construction
	is_triggered_only = yes
	location = THIS

	option = {
		name = pw_wonder.701.a
		if = {
			limit = { NOT = { has_modifier = pw_mod_wonder_built_recently_happiness } }
			add_modifier = {
				modifier = pw_mod_wonder_built_recently_happiness
				days = 1800 # 5 years
			}
		}
	}

	trigger = {
		NOT = {owner = { has_country_flag = demetrius_fields_built }}
	}

	immediate = {
		owner = { set_country_flag = demetrius_fields_built }
	}
}
